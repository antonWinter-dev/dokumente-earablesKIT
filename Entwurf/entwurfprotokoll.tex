\documentclass[a4paper,12pt]{article}
\author {ab Protokoll 12.3.19}
\begin{document}
\section{Klassenstruktur}

\subsection{Model}
\subsubsection{Fassade}
    Die Fassade kapselt das Komplette Model von dem Viewmodel ab.
    Sie enthält keine Geschäftslogik, aber verwaltet alle Services.
    Methoden: 
    \begin{itemize}
        \item \textbf{+startRunning(*)}
        \item \textbf{+startPushUp(*)}
        \item \textbf{+startSitUp(*)}
        \item \textbf{+stopRunning(*)}
        \item \textbf{+stopPushUp(*)}
        \item \textbf{+stopSitUp(*)}
        \item \textbf{+getSamplingrate()}
        \item \textbf{+setSamplingrate()}
        \item \textbf{+getAccelerator()}
        \item \textbf{+setAccelerator()}
        \item \textbf{+getRecentData(): List<DBEntry>} %%30Tage overview
        \item \textbf{+getLastData(): DBEntry}  %%neuester Eintrag (nach Beenden einer Aktivität)
        \item \textbf{+deleteData()}
        \item \textbf{+importData(inputpath)}
        \item \textbf{+exportData(outputpath)}
    \end{itemize}
%% *: Pointer zu Notify() oder Objekt

\subsubsection{Dangling}
- irgendwas muss sich um die Settings kümmern
- irgendjemand muss Schritte zählen\\
- Ablauf des Trainingsablaufplans\\
- Fassade, die Zugriff auf Services und auf Bibliothek Zugriff hat\\
- Dependency Sercvices kann von außen aufgerufen werden (``global'', von Xamarin), verwaltet Singletons\\
Folgende Services gibt es:
\begin{itemize}
    \item Bibliothek
    \item Erweiterungsmodul
    \item Datenmodul
    \item TTS (Text-To-Speech)
\end{itemize}
\subsubsection{Bibliothek} 
Bis jetzt unstrukturiert, schnittstellen noch unklar...
Bestandteile der Bibliothek:
%%was die Bibliothek braucht:
\begin{itemize}
    \item {
        get/set Parameter (konstanten)
        \begin{itemize}
            \item Samplingrate
            \item Accelerator/Gyroscope(range/filter)
        \end{itemize}
        }
    \item Daten aufzeichnen %%!!
    \item Start/Stop Samplingrate
    \item {
        Daten verpacken in Format per push (Event) (Beobachter)\\
        Wann? %%informal
        \begin{itemize}
            \item bei ca. 100 Rohdaten
            \item configs %%??
        \end{itemize}
        } 
\end{itemize}

\subsubsection{Erweiterungsmodul}
Methoden nach außen (EMSchnittstelle):
\begin{itemize}
    \item \textbf{async registerEvent()}
    \item \textbf{async unregisterEvent()}
\end{itemize}
innen: TaskHandler und Taskklassen (SitUp, PushUp,...)

mit Beobachter: man kann sich Registrieren für Schritterkennung, Liegest. und Situpsevents\\
Verarbeitung, wenn mindestens ein Listener registriert ist. 

interface ActivityEvent: 
\begin{itemize}
    \item StepEvent: wenn ein Schritt gemacht wurde, enthält Frequenz
    \item WalkingEvent: wenn man anfängt / aufhört zu laufen, enthält ob laufen/stehen 
    \item PushUpEvent: nach PushUp
    \item SitUpEvent: nach SitUp
\end{itemize}

\subsubsection{Datenmodul}
Methoden nach außen: \textbf{GetEntries, SaveDBEntry}
Kl DatabaseConnection
Kl DatebaseEntry
 
\subsection{Viewmodel}
%%name speichern..
\subsection{View}


\section{Schnittstellen zwischen Model, Viewmodel und View}
Verbindung zwischen Bibliothek und Erweiterungsmodul:
\end{document}
 